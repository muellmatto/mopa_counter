<!DOCTYPE html>
<html>
    <head>
        <title>
            MOPA
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="static/mopa_counter.css">
    </head>
    <body>
        <main class="mopa_is_closed">
            <section></section>
        </main>
         <script src="moment.min.js"></script>
        <script>
            "use strict";

            // const target_date = new Date(2021, 1, 29, 14 ,0, 0, 0);
            const target_date_string = "07.01.2022-09:00:00";
            const target_date = moment(target_date_string, "DD.MM.YYYY-hh:mm:ss");
            const counter = document.querySelector("section");
            var timer;

            function update_timer () {
                let now = moment();
                let diff = moment.duration(target_date - now);
                if (diff < 0) {
                    clearInterval(timer);
                    window.location.href = "open.html";
                }
                let days = diff.days();
                let hours = diff.hours();
                let minutes = diff.minutes();
                let seconds = diff.seconds();
                counter.innerHTML =
                    "Noch "
                    + "<span style=\"white-space: nowrap;\">" + days + " Tage, " + "</span> "
                    + "<span style=\"white-space: nowrap;\">" + hours + " Stunden, " + "</span> "
                    + "<span style=\"white-space: nowrap;\">" + minutes + " Minuten, " + "</span> "
                    + "<span style=\"white-space: nowrap;\">" + seconds + " Sekunden" + "</span>";
            }

            timer = setInterval(update_timer, 1000)
        </script>
    </body>
</html>
